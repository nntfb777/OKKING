<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Matomo -->
<!-- End Matomo Code -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="Description"
		content="Okking.com - Đẳng Cấp Nhà Vua" />
	<link rel="icon" href="images/index/favicon.ico">
	<title>Okking.com - Đẳng Cấp Nhà Vua</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
		crossorigin="anonymous">
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
	<link rel="stylesheet" href="css/style.css">
	<script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.min.js"></script>
	<script src="js/vue.js"></script>
	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<style>
		@keyframes scaleEffect {
			0% {
				transform: scale(1.1);
			}

			50% {
				transform: scale(1.2);
			}

			100% {
				transform: scale(1.1);
			}
		}

		.img-download-app img {
			animation: scaleEffect 2s infinite ease-in-out;
		}

		.img-download-app {
			z-index: 99999;
		}

		.link-download-app {
			padding: 0px;
			position: relative;
			overflow: hidden;
			margin-top: 20px;
		}
	</style>
</head>

<body>
	<div id="app">
		<div id="header">
			<div class="hBox clearfix">
				<div class="logo">
					<a href="index.html">
						<img src="images/index/logo.png" alt="">
					</a>
				</div>
				<div class="hIm02">
					<a :href="kefuUrl" target="_blank">
						<img src="images/index/cskh.png" alt="">
					</a>
				</div>
			</div>
		</div>
		<div class="sjbdmap">
			<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img src="/images/banner/1.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
						<img src="/images/banner/2.jpg" style="width: 100%">
					</div>				
					<div class="carousel-item">
                                                <img src="/images/banner/13.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
                                                <img src="/images/banner/9.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
                                                <img src="/images/banner/12.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
                                                <img src="/images/banner/15.jpg" style="width: 100%">
					</div>			
					<div class="carousel-item">
                                                <img src="/images/banner/10.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
                                                <img src="/images/banner/11.jpg" style="width: 100%">
					</div>
					<div class="carousel-item">
                                                <img src="/images/banner/13.jpg" style="width: 100%">
					</div>	
					<div class="carousel-item">
                                                <img src="/images/banner/16.jpg" style="width: 100%">
					</div>	
				</div>
			</div>
		</div>
				<div id="container">
			<div id="main">
				<div class="wrap clearfix">
					<div id="conts">
						<h2><img src="images/index/Link truy cập tốc độ cao.png" alt=""></h2>
						<ul class="linkUl">
							<li class="li02" v-for="(item,index) in urls" :key="index">
								<span class="txt">{{item.second}}</span>
								<img src="images/index/index-icon.png" alt="">
								<span class="web">{{item.title}}</span>
								<a :href="item.url" target="_blank">Truy cập</a>
							</li>
						</ul>
						<div class="refresh pcbdmap">
							<a @click="refresh">TẢI LẠI</a>
						</div>
					</div>
					<div id="sideBar">
						<h2><img src="images/index/TẢI APP NGAY.png" alt=""></h2>
						<div class="inner clearfix">
							<div class="img-download-app">
								<img src="images/index/748x828.png" alt="">
							</div>

							<div class="link-download-app">
								<div class="content">
									<a @click="down" target="_blank">
	<!--									<h3>TRUY CẬP LINK TẢI APP TỐC ĐỘ CAO</h3>-->
										<img src="images/index/TẢI APP CHO DI ĐỘNG 2.png" style="width: 100%">
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="container2">
			<div id="main">
				<div class="wrap clearfix">
					<div id="conts">
						<h2><img src="images/index/Link truy cập tốc độ cao.png" alt=""></h2>
						<ul class="linkUl">
							<li class="li02" v-for="(item,index) in moburls" :key="index">
								<span class="txt">{{item.second}}</span>
								<img src="images/index/index-icon.png" alt="">
								<span class="web">{{item.title}}</span>
								<a :href="item.url" target="_blank">Truy cập</a>
							</li>
						</ul>
						<div class="socials">
							
							<a href="https://https://okkingcode.com/" target="_blank"><img
									src="images/index/code.png" alt="telegram"></a>
							<a href="http://https://t.me/dailyokking24_7" target="_blank"><img
									src="images/index/ĐẠI LÝ HỢP TÁC.png" alt="dndl"></a>
						</div>
						<div class="refresh pcbdmap">
							<a @click="refresh">TẢI LẠI</a>
						</div>
						<div class="link-download-app">
							<div class="content">
								<a href="https://okking91.com/DownloadApp/" target="_blank">
									<!--<h3>TRUY CẬP LINK TẢI APP TỐC ĐỘ CAO</h3>-->
									<img src="images/index/TẢI APP CHO DI ĐỘNG 2.png" style="width: 100%">
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div class="fBox">
				<div class="fImg">
				</div>
				<p>Copyright © OKKING Reserved</p>
			</div>
		</div>
	</div>

	<script>
    var app = new Vue({
        el: '#app',
        data: {
            timeHanlde: null,
            tim: 0,
            
            masterUrls: [
                "https://okking61.com/",
                "https://okking62.com/",
                "https://okking63.com/",
                "https://okking64.com/",
                "https://okking65.com/",
                "https://okking66.com/",
                "https://okking67.com/",
                "https://okking68.com/",
                "https://okking70.com/",
                "https://okking71.com/",
                "https://okking73.com/",
                "https://okking75.com/",
                "https://okking77.com/",
                "https://okking87.com/",
                "https://okking89.com/",
                "https://okking91.com/",
                "https://okking93.com/",
                "https://okking95.com/",
                "https://okking79.com/",
                "https://okking81.com/",
                "https://okking83.com/",
                "https://okking85.com/",
                "https://okking97.com/",
                "https://okking72.com/",
                "https://okking74.com/",
                "https://okking76.com/",
                "https://okking78.com/",
                "https://okking80.com/",
                "https://okking82.com/",
                "https://okking84.com/",
                "https://okking86.com/",
            ],

            urls: [],
            moburls: [], 

            waitingText: "đang kiểm duyệt ",
            connectTimeout: "hết hạn",
            connectFail: '9ms',
            name: 'okking.com/',
            kefuUrl: "https://0294k61.x0icj44b.com/chatwindow.aspx?siteId=65002300&planId=55c2d7f7-3521-4c8b-a842-347a0a5a8e4a&chatgroup=4&_=1762656733356",
            apkAppUrl: 'https://okking91.com/DownloadApp/',
            pcUrl: 'https://okking91.com/DownloadApp/',
        },
        mounted() {
            // Khởi tạo danh sách URL ngẫu nhiên khi trang được tải
            this.urls = this.getRandomUrls(5);
            this.moburls = this.getRandomUrls(5);

            this.startPingCheck();
        },
        methods: {
            // 2. HÀM LẤY NGẪU NHIÊN 5 URL
            getRandomUrls(count) {
                // Sao chép masterUrls để tránh thay đổi mảng gốc
                const shuffled = this.masterUrls.slice().sort(() => 0.5 - Math.random());
                // Chọn 'count' phần tử đầu tiên
                const selectedUrls = shuffled.slice(0, count);

                // Chuyển đổi thành định dạng đối tượng mà Vue cần
                return selectedUrls.map((url, index) => ({
                    url: url,
                    title: `Link truy cập ${index + 1}`,
                    second: this.waitingText,
                    time: 0
                }));
            },
            
            // Hàm bắt đầu kiểm tra Ping (Tách riêng để dùng lại)
            startPingCheck() {
                this.timeHanlde = setInterval(() => {
                    this.tim++
                }, 100)
                for (let i = 0; i < this.urls.length; i++) {
                    this.send(this.urls[i].url, i, 'urls')
                }
                for (let j = 0; j < this.moburls.length; j++) {
                    this.send(this.moburls[j].url, j, 'moburls');
                }
                setTimeout(() => {
                    this.sortList(this.urls);
                    this.sortList(this.moburls);
                }, 1000)
            },

            refresh() {
                this.tim = 0
                clearInterval(this.timeHanlde)
                
                // CẬP NHẬT: Chọn lại URL ngẫu nhiên khi làm mới
                this.urls = this.getRandomUrls(5);
                this.moburls = this.getRandomUrls(5);
                
                this.startPingCheck();
            },
            
            // ... (Các phương thức khác giữ nguyên hoặc điều chỉnh nhỏ)
            sortOrder(filed, type = 'asc') {
                return (a, b) => {
                    if (type === 'asc') return a[filed] > b[filed] ? 1 : -1;
                    return a[filed] > b[filed] ? -1 : 1;
                }
            },
            sortList() {
                this.urls.sort(this.sortOrder('time', 'asc'))
                this.moburls.sort(this.sortOrder('time', 'asc'))
            },
            send(url, index, listName) { // Thêm listName để xác định mảng
                const _this = this
                $.ajax({
                    type: 'get',
                    url: url,
                    dataType: 'jsonp',
                    timeout: 1000,
                    complete: function (res) {
                        const targetList = _this[listName]; // Chọn mảng urls hoặc moburls
                        
                        if (res.status == 200) {
                            if (_this.tim > 5000) {
                                targetList[index].second = _this.connectTimeout;
                            }
                            else {
                                targetList[index].second = _this.tim + 'ms';
                            }
                            targetList[index].time = _this.tim;
                        }
                        else {
                            targetList[index].second = _this.connectFail;
                            targetList[index].time = 999999;
                        }
                    },
                })
            },
            // ... (Các phương thức down() và browserDetection() giữ nguyên)
            down() {
                if (this.browserDetection() == 'PC') {
                    window.location.href = this.pcUrl;
                } else {
                    if (this.browserDetection() == 'iphone' || this.browserDetection() == 'ipad') {
                        window.location.href = this.ios_step_1
                        setTimeout(() => {
                            window.location.href = this.ios_step_2
                        }, 2000)
                    } else {
                        window.location.href = this.apkAppUrl;
                    }
                }
            },
            browserDetection() {
                var userAgent = window.navigator.userAgent.toLowerCase();
                var browser = null;
                if (userAgent.match(/ipad/i)) {
                    browser = 'ipad';
                } else if (userAgent.match(/iphone os/i)) {
                    browser = 'iphone';
                } else if (userAgent.match(/midp/i)) {
                    browser = 'midp'
                } else if (userAgent.match(/rv:1.2.3.4/i)) {
                    browser = 'rv:1.2.3.4';
                } else if (userAgent.match(/ucweb/i)) {
                    browser = 'ucweb';
                } else if (userAgent.match(/android/i)) {
                    browser = 'android';
                } else if (userAgent.match(/windows ce/i)) {
                    browser = 'windowsCe';
                } else if (userAgent.match(/windows mobile/i)) {
                    browser = 'windowsMobile';
                } else {
                    browser = 'PC'
                }
                return browser;
            }
        }
    })
    document.addEventListener("DOMContentLoaded", function () {
        const txtElements = document.querySelectorAll(".txt");

        function updateRandomPing() {
            txtElements.forEach(element => {
                const randomPing = Math.floor(Math.random() * 10 + 1) + "ms";
                element.textContent = randomPing;
            });
        }

        updateRandomPing();

        setTimeout(() => {
            setInterval(updateRandomPing, 1000);
        }, 1000);
    });
</script>

</body>

</html>
